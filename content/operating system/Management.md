# 4. 파일 시스템과 저장장치

## 4.1 저장장치의 계층 구조

### 4.1.1 저장장치 계층 구조

* 레지스터 < 캐시 < 주기억장치(RAM) < 보조기억장치(SSD/HDD) < 원격 저장장치
* 저장장치는 속도, 용량, 가격의 trade-off 관계에 있음

### 4.1.2 보조기억장치 종류

* HDD: 자기 디스크 회전, 순차 접근 시 유리, 기계적 부품 존재
* SSD: 반도체 기반, 빠른 접근 속도, 높은 가격

## 4.2 디스크 구조와 디스크 스케줄링

### 4.2.1 디스크 구조

* 플래터(Platter), 트랙(Track), 섹터(Sector), 실린더(Cylinder)로 구성
* 디스크 접근 시간 = 탐색 시간(Seek Time) + 회전 지연 시간(Rotational Latency) + 전송 시간

### 4.2.2 디스크 스케줄링 알고리즘

* FCFS: 도착 순서 처리, 공정하지만 비효율
* SSTF: 가장 가까운 요청부터 처리, 기아 현상 발생 가능
* SCAN: 엘리베이터 방식, 한 방향으로 이동하며 요청 처리
* C-SCAN: 한 방향으로만 이동 후 처음으로 되돌아옴

## 4.3 입출력 시스템

### 4.3.1 I/O 장치

* 키보드, 마우스, 디스크, 프린터, 네트워크 장치 등
* 장치마다 속도, 처리 방식, 버퍼 크기 등이 다름

### 4.3.2 I/O 제어 방식

* Programmed I/O: CPU가 직접 데이터 전송, 비효율적
* Interrupt-Driven I/O: 장치가 인터럽트로 CPU에 완료 알림
* DMA(Direct Memory Access): 장치가 메모리에 직접 접근, CPU 개입 최소화

### 4.3.3 버퍼링(Buffering)

* 입출력과 CPU 처리 간 속도 차이를 줄이기 위해 사용
* 단일 버퍼, 이중 버퍼, 순환 버퍼 등의 방식 존재

## 4.4 파일 시스템

### 4.4.1 파일과 파일 시스템

* 파일: 관련된 데이터의 논리적 집합
* 파일 시스템: 파일의 저장, 접근, 보호를 관리하는 구조

### 4.4.2 파일 시스템 구성

* 디렉토리 구조: 단일 수준, 트리 구조, DAG 등
* 할당 방식:

  * 연속 할당: 빠른 접근, 단편화 문제
  * 연결 할당: 단편화는 없지만 접근 속도 느림
  * 인덱스 할당: 접근 빠름, 오버헤드 존재

### 4.4.3 파일 접근 방식

* 순차 접근: 텍스트 파일 등에서 사용
* 직접 접근: DB, 미디어 파일 등 임의 접근 필요할 때 사용

### 4.4.4 디스크 공간 관리

* 비트맵, 연결 리스트 등을 통해 빈 블록 관리
* 단편화(Fragmentation) 문제 고려 필요

### 4.4.5 파일 보호 및 접근 제어

* 접근 제어 목록(ACL)
* 사용자 기반 권한: 소유자, 그룹, 기타 사용자

## 4.5 캐시와 성능 최적화

### 4.5.1 캐시의 개념

* 자주 사용하는 데이터를 빠른 장치에 저장하여 전체 성능 향상

### 4.5.2 디스크 캐시

* 디스크 접근 속도를 높이기 위한 메모리 기반 캐시
* Read-ahead(미리 읽기), Write-back(지연 기록) 기법

### 4.5.3 파일 시스템 성능 향상 기법

* 캐시, 버퍼링, 프리패칭
* 저널링 파일 시스템(JFS): 메타데이터 변경 로그를 저장하여 복구 가능
