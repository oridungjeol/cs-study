> **운영체제가 할 일**
> 
> 1. 프로세스 / 스레드 관리
> 2. **메모리 관리**
> 3. 파일 시스템 / 저장장치 관리
> 4. 입출력 장치 관리

# 메모리 관리

운영체제(OS)는 **한정된 물리 메모리(RAM)를 여러 프로세스가 효율적으로 사용**할 수 있도록 관리한다.

- **효율성 - 어떤 프로세스에 얼마만큼 메모리를 줄지**
- **안전성 - 어떤 메모리를 어느 프로세스에 배치할지**
- **유연성 - 메모리 부족 시 어떻게 처리할지**

---

# 개념 정리

## 주소 공간 (Address Space)

- **물리 주소**: 실제 메모리(RAM)의 주소
- **논리 주소**: 프로그램이 보는 가상의 주소 (운영체제가 변환)

운영체제는 **논리 주소 → 물리 주소**로 변환하는데, 이를 주소 변환(Address Translation)이라고 한다.

이 변환을 담당하는 하드웨어가 MMU (Memory Management Unit)이다.

---

## 메모리 할당 방식

지금의 운영체제는 여러 프로그램을 동시에 실행시키기 위해 프로세스를 메모리에 분할하여 적재하는 방식을 사용한다.

### **1. 연속 메모리 할당**

- 프로세스를 메모리에 **연속된 공간**에 올리는 방식
- 초기 방식 → 단편화 문제 발생

**문제점**

- **외부 단편화**: 여기저기 작은 빈틈이 생겨서 새로운 프로세스를 넣을 수 없는 상황
- **내부 단편화**: 할당된 메모리 중 사용하지 않는 공간 발생

### **2. 가상 메모리 (Virtual Memory)**

- 실제 RAM보다 큰 프로그램도 실행 가능
- **페이지(Page)** 단위로 메모리를 나누어 디스크와 RAM을 오가며 실행
- **스왑(Swap)**: 사용하지 않는 페이지를 디스크로 옮겨 공간 확보

---

## 페이징 (Paging)

메모리를 일정 크기의 블록으로 나누는 기법

- **페이지(Page)**: 프로세스 쪽 블록
- **프레임(Frame)**: 물리 메모리 쪽 블록

프로세스는 페이지 단위로 메모리에 배치되어 **단편화 문제 해결**

---

## 세그멘테이션 (Segmentation)

- 논리적으로 관련 있는 단위(코드, 데이터, 스택)를 **세그먼트**로 구분
- 가변 크기 할당 가능 → 내부 단편화 해결
- 하지만 외부 단편화 여전함

## 메모리 할당 방식 비교

| 기법 | 장점 | 단점 |
| --- | --- | --- |
| 연속 할당 | 구현 단순 | 단편화 심함 |
| 페이징 | 외부 단편화 해결 | 내부 단편화 가능 |
| 세그멘테이션 | 논리적 구조 반영 | 외부 단편화 여전 |