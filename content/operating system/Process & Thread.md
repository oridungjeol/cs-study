> **운영체제가 할 일**<br>
> **1. 프로세스 / 스레드 관리**<br>
> 2. 메모리 관리<br>
> 3. 파일 시스템 / 저장장치 관리<br>
> 4. 입출력 장치 관리

## 1. 프로그램 vs 프로세스

- **프로그램**
    - 정적인 파일 (예: 실행 파일 `.exe`, `.app`)
    - 하드디스크 등 저장장치에 존재
    - 실행 전 상태
- **프로세스**
    - 실행 중인 프로그램 (실행 단위)
    - 운영체제가 관리하는 동적인 상태
    - 메모리와 CPU 자원을 할당받아 동작함


> 💬 워드 프로세서는 프로그램이며, 사용자가 실행했을 때 운영체제에 의해 **프로세스**로 변환되어 메모리에 올라가 실행된다.

## 2. 프로세스의 구조

프로세스는 운영체제가 효율적으로 관리하기 위해 메모리를 다음과 같이 분할하여 사용한다:

| 구분 | 설명 | 예시 |
| --- | --- | --- |
| **코드** (Text Segment) | 실행 명령어(기계어)가 저장되는 영역 | 함수, 메서드 실행 로직 |
| **데이터** (Data Segment) | 초기화된 전역 변수, 정적 변수 저장 | 전역 변수, 설정값 |
| **힙** (Heap) | 동적 메모리 할당 공간 | `new`, `malloc` 등으로 할당한 객체들 |
| **스택** (Stack) | 함수 호출 시 생성되는 지역 변수, 매개변수 | 함수 내 지역 변수, 호출 정보 |

운영체제는 각 프로세스의 상태와 자원 정보를 PCB**(Process Control Block)**라는 데이터 구조로 관리한다.

PCB에는 프로세스 ID, 상태, 프로그램 카운터, 레지스터 상태 등이 포함되어 문맥 교환에 활용된다.

## 3. 문맥 교환 (Context Switch)

- **정의:**
    
    CPU가 현재 실행 중인 프로세스의 상태(문맥)를 저장하고, 다른 프로세스의 문맥을 복원해 실행을 전환하는 작업
    
- **특징:**
    - 한 코어는 한 시점에 하나의 프로세스만 실행 가능
    - 운영체제는 여러 프로세스가 동시에 실행되는 것처럼 보이게 빠르게 전환함 (시분할)
    - 문맥 교환 과정은 레지스터, 프로그램 카운터, 스택 포인터 등 프로세스 실행 상태를 저장/복원함
    - 빈번한 문맥 교환은 시스템 성능 저하 요인

## 4. 스레드(Thread)의 개념

- 프로세스 내에서 실제 명령어를 실행하는 **작업의 흐름 단위**
- 하나의 프로세스는 여러 개의 스레드를 가질 수 있음 (멀티스레딩)
- 스레드는 프로세스의 자원(메모리, 파일 등)을 공유하면서 독립적인 실행 흐름을 유지

## 5. 프로세스와 스레드 비교

| 항목 | 프로세스 | 스레드 |
| --- | --- | --- |
| **메모리** | 독립적인 메모리 공간 (코드, 데이터, 힙 등) | 프로세스 내 메모리 공유 |
| **속도** | 프로세스 생성 및 전환 비용 상대적으로 높음 | 생성, 문맥 교환이 가볍고 빠름 |
| **오류 전파** | 한 프로세스 오류가 다른 프로세스에 영향 없음 | 한 스레드 오류 시 프로세스 전체에 영향 가능 |